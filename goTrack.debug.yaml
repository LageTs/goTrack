# Config for goTrack. Shall be placed in /etc/ as goTrack.yaml
# Version of this config file
config_version: 1.3
# Shall the file lock be used? If activated commands will only be executed if the file doesn't exist.
file_lock: true
# File to be checked for file lock
file_lock_path: "goTrack.debug.lock"
# If true, the file lock will be deleted at start, before delay
file_lock_deletion: false
# Delay until start
start_delay: 1s
# Log file path - print if not existing
log_file: "goTrack.debug.log"
# Number of old log files to keep: 1 keeps current and last, 0 keeps current
old_logs: 0
# Enable usb checking
usb_tracking: true
# Interval between checks
usb_interval: 3000ms
# IDs to be ignored
usb_ignored_ids:
  - "Test"
# Enable ping checking
ping_tracking: true
# Interval between checks
ping_interval: 10000ms
# Targets to ping
ping_targets:
  - target: "192.168.178.2" # Target to ping
    ping_timeout: 1s # Duration for ping to be identified as failed if no response in received
    on_success: false # Set true if commands shall be executed on successful ping
    retry_count: 3 # Number of retries if ping fails before command execution
    retry_delay: 1000ms # Time to wait between retries
# Enable web checking
web_tracking: false
# Interval between checks
web_interval: 60000ms
# Targets to curl
web_targets:
  - target: "https://lagets.de" # Target to curl
    content: "Test" # Content to look for
    content_is_exact: false # Set true to execute command if responses body is identical to content. false if content is meant to be a substring.
    status_code: 200 # Http status code to look for
    on_code_identical: false # Set true to execute commands if received status code is same as configured status code
    on_https_fails: false # Set true to execute commands if response is received without encryption
    retry_count: 3 # Number of retries if curl fails before command execution
    retry_delay: 500ms # Time to wait between retires
# Commands to be executed
commands:
  - command: "ls" # Command
    args: # Arguments as strings
      - "-la"
    late: true # Set true to execute commands after others
    usb: true # Set true to execute command on usb changes
    ping: true # Set true to execute command on ping tracking
    web: true # Set true to execute command on web tracking